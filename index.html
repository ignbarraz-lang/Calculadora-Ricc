<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora RIC Chile</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background-color: #f4f7f6; }
        .card { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); max-width: 500px; margin: auto; }
        h2 { color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        label { display: block; margin: 15px 0 5px; font-weight: bold; }
        input, select { width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; }
        button { background: #27ae60; color: white; padding: 15px; border: none; width: 100%; border-radius: 5px; cursor: pointer; font-size: 16px; font-weight: bold; }
        .res { margin-top: 15px; padding: 12px; border-radius: 6px; font-weight: bold; border-left: 5px solid; }
        .rec { background: #d4edda; color: #155724; border-color: #28a745; } /* Recomendado */
        .exc { background: #e7f3ff; color: #004085; border-color: #007bff; } /* Excesivo */
        .fal { background: #f8d7da; color: #721c24; border-color: #dc3545; } /* Sobrecargado */
        .info { background: #fff3cd; color: #856404; border-color: #ffeeba; margin-bottom: 10px; }
    </style>
</head>
<body>

<div class="card">
    <h2>üï≥Ô∏è Ocupaci√≥n de Ductos (RIC 07)</h2>
    <label>Cable RVK:</label>
    <select id="cable">
        <option value="52.8">6mm¬≤ (√ò 8.2mm)</option>
        <option value="81.7">10mm¬≤ (√ò 10.2mm)</option>
        <option value="109.4">16mm¬≤ (√ò 11.8mm)</option>
    </select>

    <label>Cantidad de cables:</label>
    <input type="number" id="cant" value="1" min="1">

    <label><input type="checkbox" id="utp"> ¬øIncluir cable UTP? (+32mm¬≤)</label>

    <button onclick="analizar()">ANALIZAR DUCTOS</button>
    <div id="output"></div>
</div>

<script>
function analizar() {
    let areaU = parseFloat(document.getElementById('cable').value);
    let n = parseInt(document.getElementById('cant').value);
    let tieneUtp = document.getElementById('utp').checked;
    
    let areaTotal = (areaU * n) + (tieneUtp ? 32 : 0);
    let conductores = n + (tieneUtp ? 1 : 0);
    
    // Factor de ocupaci√≥n RIC N¬∞07
    let f = conductores === 1 ? 0.53 : (conductores === 2 ? 0.31 : 0.40);
    
    let ductos = [
        {n: "32mm", d: 28.4},
        {n: "40mm", d: 35.5},
        {n: "50mm", d: 45.3}
    ];

    let html = `<div class="res info">√Årea Requerida: ${areaTotal.toFixed(1)} mm¬≤ | Ocupaci√≥n M√°x: ${f*100}%</div>`;
    let yaRec = false;

    ductos.forEach(tubo => {
        let areaTubo = (Math.PI * Math.pow(tubo.d, 2)) / 4;
        let capMax = areaTubo * f;
        
        if (capMax >= areaTotal) {
            if (!yaRec) {
                html += `<div class="res rec">${tubo.n}: RECOMENDADO ‚úÖ</div>`;
                yaRec = true;
            } else {
                html += `<div class="res exc">${tubo.n}: EXCESIVO üîµ</div>`;
            }
        } else {
            html += `<div class="res fal">${tubo.n}: SOBRECARGADO ‚ùå<br><small>Capacidad: ${capMax.toFixed(1)}mm¬≤</small></div>`;
        }
    });
    document.getElementById('output').innerHTML = html;
}
</script>

</body>
</html>
