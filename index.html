<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ElectriCalc Pro - Brayan Barraza</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { 
            --primary: #3498db; --dark: #1a252f; --success: #27ae60; 
            --danger: #e74c3c; --bg: #f1f5f9; --white: #ffffff;
        }
        
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg); margin: 0; color: var(--dark); }
        
        /* PANTALLA DE LOGIN */
        #login-wrapper { height: 100vh; display: flex; align-items: center; justify-content: center; background: radial-gradient(circle, var(--dark) 0%, #000 100%); position: fixed; width: 100%; z-index: 1000; }
        .login-card { background: var(--white); padding: 40px; border-radius: 24px; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); text-align: center; width: 85%; max-width: 360px; }
        .login-card i { font-size: 50px; color: var(--primary); margin-bottom: 15px; }
        .login-card input { width: 100%; padding: 14px; margin: 10px 0; border: 2px solid #edf2f7; border-radius: 12px; font-size: 16px; box-sizing: border-box; outline: none; }
        
        /* NAVBAR */
        .navbar { background: var(--dark); color: white; padding: 1rem 1.5rem; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 100; }
        .nav-brand { font-weight: bold; font-size: 1.1rem; display: flex; align-items: center; gap: 10px; }
        
        /* CONTENEDOR PRINCIPAL */
        .main-container { max-width: 850px; margin: 20px auto; padding: 0 15px; display: none; }
        
        /* TABS ESTILO P√çLDORA */
        .tabs { display: flex; gap: 8px; margin-bottom: 20px; overflow-x: auto; padding-bottom: 10px; scrollbar-width: none; }
        .tab-btn { padding: 10px 18px; border: none; border-radius: 50px; background: #e2e8f0; cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 8px; white-space: nowrap; transition: 0.3s; color: #64748b; }
        .tab-btn.active { background: var(--primary); color: white; box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3); }
        
        /* TARJETAS DE CONTENIDO */
        .card { background: var(--white); padding: 25px; border-radius: 20px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); margin-bottom: 20px; display: none; border: 1px solid #e2e8f0; }
        .card.active { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .ia-frame { width: 100%; height: 75vh; border-radius: 15px; border: 1px solid #edf2f7; }
        .btn-calc { background: var(--primary); color: white; border: none; padding: 16px; width: 100%; border-radius: 12px; font-weight: bold; cursor: pointer; font-size: 1rem; margin-top: 10px; transition: 0.2s; }
        .btn-calc:active { transform: scale(0.98); }

        .resultado { margin-top: 15px; padding: 15px; border-radius: 12px; font-weight: bold; border-left: 5px solid var(--success); background: #f0fdf4; color: #166534; }
    </style>
</head>
<body>

<div id="login-wrapper">
    <div class="login-card">
        <i class="fas fa-bolt"></i>
        <h2 style="margin: 0 0 5px 0;">ElectriCalc Pro</h2>
        <p style="color: #718096; margin-bottom: 20px; font-size: 14px;">Brayan Barraza - Instalaciones</p>
        <input type="text" id="u" placeholder="Usuario">
        <input type="password" id="p" placeholder="Contrase√±a">
        <button class="btn-calc" onclick="login()">INGRESAR</button>
        <p id="error" style="color:var(--danger); display:none; margin-top:15px; font-weight:bold;">‚ö†Ô∏è Acceso Incorrecto</p>
    </div>
</div>

<div id="app" style="display:none;">
    <nav class="navbar">
        <div class="nav-brand"><i class="fas fa-shield-bolt"></i> Sistema RIC Pro</div>
        <div id="user-display" style="font-size: 12px; font-weight: 600;"></div>
        <i class="fas fa-power-off" onclick="location.reload()" style="cursor:pointer;"></i>
    </nav>

    <div class="main-container" id="container" style="display:block;">
        <div class="tabs">
            <button class="tab-btn active" onclick="showTab(event, 'ia-tab')"><i class="fas fa-robot"></i> ASISTENTE QWEN</button>
            <button class="tab-btn" onclick="showTab(event, 'calc-tab')"><i class="fas fa-calculator"></i> CALCULADORA</button>
            <button class="tab-btn" onclick="showTab(event, 'pdf-tab')"><i class="fas fa-file-pdf"></i> BIBLIOTECA RIC</button>
        </div>

        <div id="ia-tab" class="card active">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <h2 style="margin:0; font-size: 1.1rem;">Qwen 2.5 Especialista</h2>
                <i class="fas fa-sync-alt" onclick="document.getElementById('ai-frame').src+='';" style="cursor:pointer; color: var(--primary);"></i>
            </div>
            <iframe id="ai-frame" class="ia-frame" src="https://brayaton-asistente-ric-pro.hf.space" allow="clipboard-write"></iframe>
        </div>

        <div id="calc-tab" class="card">
            <h2>Calculadora de Ductos (RIC 07)</h2>
            <label style="display:block; margin-bottom:5px; font-weight:600;">Conductor RVK:</label>
            <select id="sel-cable" style="width:100%; padding:12px; border-radius:10px; border:1px solid #ddd; margin-bottom:15px;">
                <option value="52.8">6mm¬≤ (√ò 8.2mm)</option>
                <option value="81.7">10mm¬≤ (√ò 10.2mm)</option>
                <option value="109.4">16mm¬≤ (√ò 11.8mm)</option>
            </select>
            <label style="display:block; margin-bottom:5px; font-weight:600;">Cantidad:</label>
            <input type="number" id="num-cant" value="1" style="width:100%; padding:12px; border-radius:10px; border:1px solid #ddd; margin-bottom:15px;">
            <button class="btn-calc" onclick="calcular()">ANALIZAR LLENADO</button>
            <div id="resultado-final"></div>
        </div>

        <div id="pdf-tab" class="card">
            <h2>Biblioteca Normativa</h2>
            <select onchange="document.getElementById('pdf-loader').src = this.value" style="width:100%; padding:12px; border-radius:10px; margin-bottom:15px;">
                <option value="">-- Seleccione Pliego --</option>
                <option value="RIC02.pdf">RIC 02: Tableros</option>
                <option value="RIC15.pdf">RIC 15: Carga VE</option>
                <option value="RIC19.pdf">RIC 19: Puesta en Servicio</option>
            </select>
            <iframe id="pdf-loader" class="ia-frame" src=""></iframe>
        </div>
    </div>
</div>

<script>
    const AUTH = [
        { u: "Padilla", p: "1648", n: "Padilla" },
        { u: "Isaias", p: "2071", n: "Isaias" },
        { u: "Brayan", p: "2025", n: "Brayan Barraza" }
    ];

    function login() {
        const user = AUTH.find(x => x.u === document.getElementById('u').value && x.p === document.getElementById('p').value);
        if(user) {
            document.getElementById('login-wrapper').style.display = 'none';
            document.getElementById('app').style.display = 'block';
            document.getElementById('user-display').innerText = "üë∑ " + user.n;
        } else {
            document.getElementById('error').style.display = 'block';
        }
    }

    function showTab(e, id) {
        let cards = document.getElementsByClassName("card"), btns = document.getElementsByClassName("tab-btn");
        for(let c of cards) c.classList.remove("active");
        for(let b of btns) b.classList.remove("active");
        document.getElementById(id).classList.add("active");
        e.currentTarget.classList.add("active");
    }

    function calcular() {
        const a = parseFloat(document.getElementById('sel-cable').value) * parseInt(document.getElementById('num-cant').value);
        document.getElementById('resultado-final').innerHTML = `<div class="resultado">√Årea de cables: ${a.toFixed(1)} mm¬≤</div>`;
    }
</script>
</body>
</html>
