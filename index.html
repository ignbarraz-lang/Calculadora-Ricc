<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RIC Pro - Brayan Barraza</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --primary: #3498db; --dark: #1a252f; --bg: #f1f5f9; --white: #ffffff; --success: #27ae60; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; }
        #login-wrapper { height: 100vh; display: flex; align-items: center; justify-content: center; background: var(--dark); position: fixed; width: 100%; z-index: 2000; }
        .login-card { background: var(--white); padding: 40px; border-radius: 20px; text-align: center; width: 320px; }
        .navbar { background: var(--dark); color: white; padding: 1rem; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 100; }
        .main-container { max-width: 1000px; margin: 15px auto; padding: 0 15px; display: none; }
        .tabs { display: flex; gap: 8px; margin-bottom: 15px; overflow-x: auto; padding-bottom: 5px; }
        .tab-btn { padding: 10px 18px; border: none; border-radius: 50px; background: #cbd5e1; cursor: pointer; font-weight: bold; white-space: nowrap; font-size: 13px; }
        .tab-btn.active { background: var(--primary); color: white; }
        .card { background: white; padding: 20px; border-radius: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); display: none; margin-bottom: 20px; }
        .card.active { display: block; animation: fadeIn 0.3s; }
        .ia-frame { width: 100%; height: 75vh; border: none; border-radius: 12px; }
        .btn-calc { background: var(--primary); color: white; border: none; padding: 12px; width: 100%; border-radius: 10px; font-weight: bold; cursor: pointer; }
        #chat-bubble { position: fixed; bottom: 20px; right: 20px; width: 60px; height: 60px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; cursor: pointer; z-index: 1500; }
        #chat-window { position: fixed; bottom: 90px; right: 20px; width: 350px; height: 550px; max-width: 90vw; background: white; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); display: none; flex-direction: column; z-index: 1500; border: 1px solid #ddd; }
        #chat-window.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<div id="login-wrapper">
    <div class="login-card">
        <i class="fas fa-bolt" style="font-size: 40px; color: var(--primary);"></i>
        <h2>Sistema RIC Pro</h2>
        <input type="text" id="u" placeholder="Usuario" style="width:100%; padding:10px; margin:10px 0; border-radius:8px; border:1px solid #ddd;">
        <input type="password" id="p" placeholder="Contrase√±a" style="width:100%; padding:10px; margin:10px 0; border-radius:8px; border:1px solid #ddd;">
        <button class="btn-calc" onclick="login()">ENTRAR</button>
    </div>
</div>

<div id="app" style="display:none;">
    <nav class="navbar">
        <div style="font-weight:bold;"><i class="fas fa-shield-bolt"></i> B. Barraza - SGC</div>
        <div id="user-display"></div>
    </nav>

    <div class="main-container" style="display:block;">
        <div class="tabs">
            <button class="tab-btn active" onclick="showTab(event, 'tab-chatbase')">IA DOCUMENTOS</button>
            <button class="tab-btn" onclick="showTab(event, 'tab-esquema')">ESQUEMA SGC</button>
            <button class="tab-btn" onclick="showTab(event, 'tab-calc')">C√ÅLCULOS</button>
            <button class="tab-btn" onclick="showTab(event, 'tab-pdf')">PLIEGOS RIC</button>
        </div>

        <div id="tab-chatbase" class="card active">
            <iframe src="https://www.chatbase.co/chatbot-iframe/TU_ID_AQUI" class="ia-frame"></iframe>
        </div>

        <div id="tab-esquema" class="card">
            <h3>Esquema Sistema de Gesti√≥n de Carga (SGC)</h3>
            <p>Conexi√≥n de medidores inteligentes y control din√°mico seg√∫n RIC 15.</p>
            
            <div style="background:#f8fafc; padding:15px; border-radius:10px; border-left:4px solid #3498db; margin-top:15px;">
                <strong>Nota T√©cnica:</strong> El SGC debe asegurar que la suma de potencias no exceda la capacidad del empalme, priorizando consumos dom√©sticos.
            </div>
        </div>

        <div id="tab-calc" class="card">
            <h3>Calculadora de Ductos (RIC 07)</h3>
            <label>Cable RVK (mm¬≤):</label>
            <select id="cable" style="width:100%; padding:10px; margin-bottom:15px;">
                <option value="52.8">2.5 mm¬≤</option>
                <option value="81.7">6.0 mm¬≤</option>
                <option value="113.1">10 mm¬≤</option>
            </select>
            <label>Cantidad:</label>
            <input type="number" id="cant" value="3" style="width:100%; padding:10px; margin-bottom:15px;">
            <button class="btn-calc" onclick="calcular()">CALCULAR</button>
            <div id="res" style="margin-top:15px; font-weight:bold; color:var(--success); display:none;"></div>
        </div>

        <div id="tab-pdf" class="card">
            <select onchange="document.getElementById('visor').src=this.value" style="width:100%; padding:10px; margin-bottom:10px;">
                <option value="RIC15.pdf">RIC 15 - Carga VE</option>
                <option value="RIC02.pdf">RIC 02 - Tableros</option>
            </select>
            <iframe id="visor" src="RIC15.pdf" class="ia-frame"></iframe>
        </div>
    </div>
</div>

<div id="chat-bubble" onclick="toggleChat()"><i class="fas fa-robot"></i></div>
<div id="chat-window">
    <div style="background:var(--dark); color:white; padding:12px; display:flex; justify-content:space-between;">
        <span>Asistente R√°pido</span>
        <i class="fas fa-times" onclick="toggleChat()" style="cursor:pointer;"></i>
    </div>
    <iframe src="https://brayaton-asistente-ric-pro.hf.space" style="width:100%; height:100%; border:none;"></iframe>
</div>

<script>
    function login() {
        const u = document.getElementById('u').value, p = document.getElementById('p').value;
        if((u==="Padilla" && p==="1648") || (u==="Isaias" && p==="2071") || (u==="Brayan" && p==="2025")) {
            document.getElementById('login-wrapper').style.display='none';
            document.getElementById('app').style.display='block';
            document.getElementById('user-display').innerText = "üë∑ " + u;
        }
    }
    function showTab(e, id) {
        let c=document.getElementsByClassName("card"), b=document.getElementsByClassName("tab-btn");
        for(let x of c) x.classList.remove("active");
        for(let x of b) x.classList.remove("active");
        document.getElementById(id).classList.add("active");
        e.currentTarget.classList.add("active");
    }
    function toggleChat() { document.getElementById('chat-window').classList.toggle('active'); }
    function calcular() {
        const t = parseFloat(document.getElementById('cable').value) * parseInt(document.getElementById('cant').value);
        let d = t > 110 ? "25mm" : "20mm";
        document.getElementById('res').innerText = "Ducto Sugerido: Conduit " + d;
        document.getElementById('res').style.display = 'block';
    }
</script>
</body>
</html>
