<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora El√©ctrica RIC - IRVE</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; padding: 20px; background-color: #f0f4f8; color: #333; }
        .container { max-width: 600px; margin: auto; }
        .card { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin-bottom: 25px; border-top: 5px solid #3498db; }
        h2 { color: #2c3e50; margin-top: 0; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        label { display: block; margin: 15px 0 5px; font-weight: bold; font-size: 14px; }
        input, select { width: 100%; padding: 12px; margin-bottom: 10px; border: 1px solid #ccd1d9; border-radius: 8px; box-sizing: border-box; font-size: 16px; }
        button { background: #3498db; color: white; padding: 15px; border: none; width: 100%; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold; transition: 0.3s; }
        button:hover { background: #2980b9; }
        .res { margin-top: 15px; padding: 15px; border-radius: 8px; font-weight: bold; border-left: 6px solid; }
        .recomendado { background: #d4edda; color: #155724; border-color: #28a745; }
        .excesivo { background: #e7f3ff; color: #004085; border-color: #007bff; }
        .falla { background: #f8d7da; color: #721c24; border-color: #dc3545; }
        .info-area { background: #fff3cd; color: #856404; border-color: #ffeeba; margin-bottom: 10px; }
        small { display: block; margin-top: 5px; font-weight: normal; opacity: 0.8; }
    </style>
</head>
<body>

<div class="container">
    <div class="card">
        <h2>üìè Ca√≠da de Tensi√≥n (RIC N¬∞04)</h2>
        <label>Distancia del tramo (m):</label>
        <input type="number" id="dist" value="10">
        <label>Corriente de carga (A):</label>
        <input type="number" id="amp" value="16">
        <label>Secci√≥n conductor (mm¬≤):</label>
        <input type="number" id="sec" value="6">
        <button onclick="calcCaida()">CALCULAR CA√çDA</button>
        <div id="outCaida"></div>
    </div>

    <div class="card">
        <h2>üï≥Ô∏è Ocupaci√≥n de Ductos (RIC N¬∞07)</h2>
        <label>Tipo de Cable (RVK):</label>
        <select id="cable">
            <option value="52.8">6mm¬≤ (√ò 8.2mm)</option>
            <option value="81.7">10mm¬≤ (√ò 10.2mm)</option>
            <option value="109.4">16mm¬≤ (√ò 11.8mm)</option>
        </select>
        <label>Cantidad de cables:</label>
        <input type="number" id="cant" value="1">
        <label><input type="checkbox" id="utp"> ¬øIncluir cable UTP? (+32mm¬≤)</label>
        <button onclick="calcDuctos()" style="background:#27ae60">ANALIZAR DUCTOS</button>
        <div id="outDucto"></div>
    </div>
</div>

<script>
function calcCaida() {
    let l = parseFloat(document.getElementById('dist').value);
    let i = parseFloat(document.getElementById('amp').value);
    let s = parseFloat(document.getElementById('sec').value);
    let dv = (2 * l * i * 0.018) / s;
    let porc = (dv / 220) * 100;
    let clase = porc <= 3 ? 'recomendado' : 'falla';
    document.getElementById('outCaida').innerHTML = `
        <div class="res ${clase}">
            P√©rdida: ${dv.toFixed(2)} V (${porc.toFixed(2)}%)<br>
            ${porc <= 3 ? 'DENTRO DE NORMA ‚úÖ' : 'EXCEDE EL 3% M√ÅXIMO ‚ùå'}
        </div>`;
}

function calcDuctos() {
    let areaU = parseFloat(document.getElementById('cable').value);
    let n = parseInt(document.getElementById('cant').value);
    let tieneUtp = document.getElementById('utp').checked;
    let areaT = (areaU * n) + (tieneUtp ? 32 : 0);
    let cond = n + (tieneUtp ? 1 : 0);
    let f = cond === 1 ? 0.53 : (cond === 2 ? 0.31 : 0.40);
    
    let ductos = [{n:"32mm", d:28.4}, {n:"40mm", d:35.5}, {n:"50mm", d:45.3}];
    let html = `<div class="res info-area">√Årea Requerida: ${areaT.toFixed(1)} mm¬≤ | Ocupaci√≥n: ${f*100}%</div>`;
    let yaRec = false;

    ductos.forEach(t => {
        let cap = ((Math.PI * Math.pow(t.d, 2)) / 4) * f;
        if (cap >= areaT) {
            if (!yaRec) {
                html += `<div class="res recomendado">${t.n}: RECOMENDADO ‚úÖ</div>`;
                yaRec = true;
            } else {
                html += `<div class="res excesivo">${t.n}: EXCESIVO üîµ</div>`;
            }
        } else {
            html += `<div class="res falla">${t.n}: SOBRECARGADO ‚ùå<br><small>Capacidad m√°x: ${cap.toFixed(1)}mm¬≤</small></div>`;
        }
    });
    document.getElementById('outDucto').innerHTML = html;
}
</script>
</body>
</html>

