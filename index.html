<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ElectriCalc Pro - Brayan Barraza</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --primary: #3498db; --dark: #1a252f; --bg: #f1f5f9; --white: #ffffff; --success: #27ae60; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; }

        /* LOGIN */
        #login-wrapper { height: 100vh; display: flex; align-items: center; justify-content: center; background: var(--dark); position: fixed; width: 100%; z-index: 2000; }
        .login-card { background: var(--white); padding: 40px; border-radius: 20px; text-align: center; width: 320px; }
        .login-card input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 10px; }

        /* NAVBAR */
        .navbar { background: var(--dark); color: white; padding: 1rem; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 100; }

        /* CONTENEDOR Y TABS */
        .main-container { max-width: 950px; margin: 15px auto; padding: 0 15px; display: none; }
        .tabs { display: flex; gap: 8px; margin-bottom: 15px; overflow-x: auto; padding-bottom: 5px; }
        .tab-btn { padding: 10px 18px; border: none; border-radius: 50px; background: #cbd5e1; cursor: pointer; font-weight: bold; white-space: nowrap; font-size: 13px; }
        .tab-btn.active { background: var(--primary); color: white; }

        /* TARJETAS */
        .card { background: white; padding: 20px; border-radius: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); display: none; margin-bottom: 20px; border: 1px solid #e2e8f0; }
        .card.active { display: block; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* IFRAMES */
        .ia-frame { width: 100%; height: 70vh; border: none; border-radius: 12px; }

        /* CALCULADORA */
        .btn-calc { background: var(--primary); color: white; border: none; padding: 15px; width: 100%; border-radius: 12px; font-weight: bold; cursor: pointer; }
        .res-box { margin-top: 15px; padding: 15px; border-radius: 12px; background: #f0fdf4; border-left: 5px solid var(--success); display: none; }

        /* BURBUJA FLOTANTE */
        #chat-bubble { position: fixed; bottom: 20px; right: 20px; width: 60px; height: 60px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.3); z-index: 1000; }
        #chat-window { position: fixed; bottom: 90px; right: 20px; width: 350px; height: 500px; max-width: 90vw; background: white; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); display: none; flex-direction: column; overflow: hidden; z-index: 1000; border: 1px solid #ddd; }
        #chat-window.active { display: flex; }
    </style>
</head>
<body>

<div id="login-wrapper">
    <div class="login-card">
        <i class="fas fa-bolt" style="font-size: 40px; color: var(--primary);"></i>
        <h2>Sistema RIC Pro</h2>
        <input type="text" id="u" placeholder="Usuario">
        <input type="password" id="p" placeholder="Contrase√±a">
        <button class="btn-calc" onclick="login()">ENTRAR</button>
    </div>
</div>

<div id="app" style="display:none;">
    <nav class="navbar">
        <div style="font-weight:bold;"><i class="fas fa-shield-bolt"></i> B. Barraza</div>
        <div id="user-display" style="font-size: 14px;"></div>
    </nav>

    <div class="main-container" style="display:block;">
        <div class="tabs">
            <button class="tab-btn active" onclick="showTab(event, 'ia-fija')"><i class="fas fa-brain"></i> IA COMPLETA</button>
            <button class="tab-btn" onclick="showTab(event, 'calc')"><i class="fas fa-calculator"></i> C√ÅLCULOS</button>
            <button class="tab-btn" onclick="showTab(event, 'esquema')"><i class="fas fa-project-diagram"></i> ESQUEMAS</button>
            <button class="tab-btn" onclick="showTab(event, 'pdf')"><i class="fas fa-file-pdf"></i> PLIEGOS</button>
        </div>

        <div id="ia-fija" class="card active">
            <h3 style="margin-top:0">Asistente Qwen 2.5 (Modo Detallado)</h3>
            <iframe src="https://brayaton-asistente-ric-pro.hf.space" class="ia-frame"></iframe>
        </div>

        <div id="calc" class="card">
            <h3>C√°lculo de Ductos</h3>
            <div style="margin-bottom:15px">
                <label style="display:block; margin-bottom:5px">Cable RVK:</label>
                <select id="cable" style="width:100%; padding:10px; border-radius:8px">
                    <option value="52.8">2.5 mm¬≤</option>
                    <option value="81.7">6 mm¬≤</option>
                    <option value="113.1">10 mm¬≤</option>
                </select>
            </div>
            <div style="margin-bottom:15px">
                <label style="display:block; margin-bottom:5px">Cantidad:</label>
                <input type="number" id="cant" value="3" style="width:100%; padding:10px; border-radius:8px">
            </div>
            <button class="btn-calc" onclick="calcular()">CALCULAR</button>
            <div id="resultado" class="res-box">
                Ducto sugerido: <strong id="ducto"></strong>
            </div>
        </div>

        <div id="esquema" class="card">
            <h3>Esquemas de Conexi√≥n</h3>
            
            <p style="font-size:12px; color:#666">Referencia t√©cnica para instalaciones VE.</p>
        </div>

        <div id="pdf" class="card">
            <h3>Visor de Normativa</h3>
            <select onchange="document.getElementById('visor').src=this.value" style="width:100%; padding:10px; border-radius:8px; margin-bottom:10px">
                <option value="RIC15.pdf">RIC 15 - Carga VE</option>
                <option value="RIC02.pdf">RIC 02 - Tableros</option>
            </select>
            <iframe id="visor" src="RIC15.pdf" style="width:100%; height:60vh; border:none"></iframe>
        </div>
    </div>
</div>

<div id="chat-bubble" onclick="toggleChat()">
    <i class="fas fa-comment-dots"></i>
</div>

<div id="chat-window">
    <div style="background:var(--dark); color:white; padding:12px; display:flex; justify-content:space-between; align-items:center">
        <span style="font-size:14px; font-weight:bold">Asistente R√°pido RIC</span>
        <i class="fas fa-times" onclick="toggleChat()" style="cursor:pointer"></i>
    </div>
    <iframe src="https://brayaton-asistente-ric-pro.hf.space" style="width:100%; height:100%; border:none"></iframe>
</div>

<script>
    function login() {
        const u = document.getElementById('u').value;
        const p = document.getElementById('p').value;
        if((u==="Padilla" && p==="1648") || (u==="Isaias" && p==="2071") || (u==="Brayan" && p==="2025")) {
            document.getElementById('login-wrapper').style.display='none';
            document.getElementById('app').style.display='block';
            document.getElementById('user-display').innerText = "üë∑ " + u;
        }
    }

    function showTab(e, id) {
        let cards = document.getElementsByClassName("card"), btns = document.getElementsByClassName("tab-btn");
        for(let c of cards) c.classList.remove("active");
        for(let b of btns) b.classList.remove("active");
        document.getElementById(id).classList.add("active");
        e.currentTarget.classList.add("active");
    }

    function toggleChat() {
        document.getElementById('chat-window').classList.toggle('active');
    }

    function calcular() {
        const total = parseFloat(document.getElementById('cable').value) * parseInt(document.getElementById('cant').value);
        let d = total > 110 ? "Conduit 25mm" : "Conduit 20mm";
        document.getElementById('ducto').innerText = d;
        document.getElementById('resultado').style.display = 'block';
    }
</script>
</body>
</html>
